<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>До бури радости осталось</title>
  <style>
    :root{
      --bg: linear-gradient(135deg,#0f172a,#0b1220);
      --card: rgba(255,255,255,0.04);
      --glass: rgba(255,255,255,0.02);
      --accent: #ffd166;
    }
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
    body{
      background: var(--bg);
      color:#e6eef8;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }
    .card{
      width:100%;
      max-width:720px;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      border-radius:16px;
      padding:36px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      text-align:center;
    }
    h1{
      margin:0 0 12px 0;
      font-size:28px;
      letter-spacing:0.4px;
    }
    p.lead{
      margin:0 0 28px 0;
      opacity:0.9;
    }
    .countdown{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
    }
    .segment{
      background:var(--card);
      padding:18px 20px;
      border-radius:12px;
      min-width:98px;
    }
    .seg-value{
      font-size:32px;
      font-weight:700;
      line-height:1;
    }
    .seg-label{
      margin-top:6px;
      opacity:0.7;
      font-size:12px;
    }
    .note{
      margin-top:20px;
      opacity:0.85;
      font-size:13px;
    }
    @media (max-width:480px){
      .seg-value{font-size:26px}
      .segment{min-width:80px;padding:14px 10px}
    }
  </style>
</head>
<body>
  <div class="card" role="main" aria-labelledby="title">
    <h1 id="title">До бури радости осталось</h1>
    <p class="lead">Отсчёт ведётся до <strong>2 ноября, 18:45</strong> (локальное время)</p>

    <div class="countdown" aria-live="polite" id="countdown">
      <div class="segment"><div class="seg-value" id="days">--</div><div class="seg-label">Дней</div></div>
      <div class="segment"><div class="seg-value" id="hours">--</div><div class="seg-label">Часов</div></div>
      <div class="segment"><div class="seg-value" id="minutes">--</div><div class="seg-label">Минут</div></div>
      <div class="segment"><div class="seg-value" id="seconds">--</div><div class="seg-label">Секунд</div></div>
    </div>

    <div class="note" id="note">Точное время определяется по часам вашего устройства.</div>
  </div>

<script>
(function(){
  // Настройка цели: 2 ноября в 18:45 локального времени текущего года (если дата в прошлом — берём следующий год)
  function getTarget(){
    const now = new Date();
    // Месяцы в JS: 0 = January ... 10 = November
    let year = now.getFullYear();
    let target = new Date(year, 10, 2, 18, 45, 0, 0);
    if (target <= now) {
      target = new Date(year + 1, 10, 2, 18, 45, 0, 0);
    }
    return target;
  }

  let target = getTarget();

  // Обновляем текст с точной датой цели (на случай если год меняется)
  document.querySelector('.lead strong').textContent = target.toLocaleString(undefined, {
    day: '2-digit', month: 'long', year: 'numeric', hour: '2-digit', minute: '2-digit'
  });

  function pad(n){ return n.toString().padStart(2,'0'); }

  function update(){
    const now = new Date();
    let diff = Math.floor((target - now) / 1000); // seconds

    if (diff <= 0) {
      // Отсчёт завершён
      document.getElementById('days').textContent = '00';
      document.getElementById('hours').textContent = '00';
      document.getElementById('minutes').textContent = '00';
      document.getElementById('seconds').textContent = '00';
      document.getElementById('note').textContent = 'Буря радости наступила!';
      clearInterval(timerId);
      return;
    }

    const days = Math.floor(diff / 86400); diff %= 86400;
    const hours = Math.floor(diff / 3600); diff %= 3600;
    const minutes = Math.floor(diff / 60);
    const seconds = diff % 60;

    document.getElementById('days').textContent = pad(days);
    document.getElementById('hours').textContent = pad(hours);
    document.getElementById('minutes').textContent = pad(minutes);
    document.getElementById('seconds').textContent = pad(seconds);
  }

  update();
  const timerId = setInterval(update, 1000);
})();
</script>
</body>
</html>
